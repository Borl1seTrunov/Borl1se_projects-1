{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import Counters from\"../Counters\";import Tabs from\"../Tabs\";import TabContent from\"../TabContent\";import CardStore from\"../CardStore\";import\"../styles/Page.css\";import\"../styles/StorePage.css\";import coinLogoIcon from\"../images/CoinIcon.png\";import gamepadStoreIcon from\"../images/gamepadStore.png\";import energyStoreIcon from\"../images/energyStore.png\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function StorePage(props){const[tabName,setTabName]=useState('Console');useEffect(()=>{document.getElementById(\"Console\").style.display=\"flex\";},[]);const[Modal,setModal]=useState({});const getCardData=event=>{let nameThisCard=event.target.getAttribute(\"name\");let cardData;if(tabName==='Console'){cardData=props.cards.find(cardItem=>cardItem.cardName===nameThisCard);}if(tabName==='Games'){cardData=props.gameCards.find(gameCardItem=>gameCardItem.cardName===nameThisCard);}return cardData;};const openModal=event=>{var modal=document.getElementById(\"myModal\");var span=document.getElementsByClassName(\"close\")[0];const card=getCardData(event);console.log(card);setModal({name:card.cardName,image:card.cardImage,description:card.cardDescription,level:card.cardLevel,price:card.cardPrice});modal.style.display=\"block\";span.onclick=function(){modal.style.display=\"none\";};window.onclick=function(event){if(event.target==modal){modal.style.display=\"none\";}};};const buyCard=event=>{const cardCurr=getCardData(event);const cardPrice=cardCurr.cardPrice;const userMoney=props.money;const cardCurrLevel=cardCurr.cardLevel;const cardCurrMaxLevel=cardCurr.cardMaxLevel;var modal=document.getElementById(\"myModal\");modal.click();if(cardCurrLevel>=cardCurrMaxLevel){return;}if(cardPrice>userMoney){return;}props.buyCardActionClick(cardCurr,cardPrice,tabName);};const openTab=event=>{let tabcontents=document.getElementsByClassName(\"tabcontent\");let newName=event.target.name;setTabName(tabName=>newName);for(let i=0;i<3;i++){tabcontents[i].style.display=\"none\";}let currentTabContent=document.getElementById(event.target.name);currentTabContent.style.display=\"flex\";};return/*#__PURE__*/_jsxs(\"div\",{className:\"StorePage Page\",children:[/*#__PURE__*/_jsx(Counters,{isDisabledDataCounters:false,money:props.money,moneyOnTap:props.moneyOnTap,moneyPerSecond:props.moneyPerSecond}),/*#__PURE__*/_jsx(Tabs,{openTab:openTab}),/*#__PURE__*/_jsx(TabContent,{tabid:\"Console\",children:/*#__PURE__*/_jsx(\"div\",{className:\"StoreCardsConsole StoreCards\",children:props.cards.map((item,index)=>/*#__PURE__*/_jsx(CardStore,{card:item,onClick:openModal},index))})}),/*#__PURE__*/_jsx(TabContent,{tabid:\"Games\",children:/*#__PURE__*/_jsx(\"div\",{className:\"StoreCardsGames StoreCards\",children:props.gameCards.map((item,index)=>/*#__PURE__*/_jsx(CardStore,{card:item,onClick:openModal},index))})}),/*#__PURE__*/_jsx(TabContent,{tabid:\"Collections\",children:\"GG\"}),/*#__PURE__*/_jsx(\"div\",{id:\"myModal\",className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content-top\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"close\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"p\",{children:Modal.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content-main\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-content-image\",children:/*#__PURE__*/_jsx(\"img\",{src:Modal.image})}),/*#__PURE__*/_jsx(\"p\",{className:\"modal-content-description\",children:Modal.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content-buy-data\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content-buy-data-box\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"modal-level-data\",children:[\"\\u0423\\u0440\\u043E\\u0432\\u0435\\u043D\\u044C \\u043A\\u0430\\u0440\\u0442\\u044B : \",Modal.level]}),/*#__PURE__*/_jsxs(\"p\",{className:\"modal-price-data\",children:[\"\\u0421\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C : \",Modal.price,/*#__PURE__*/_jsx(\"img\",{src:coinLogoIcon})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-buy-button\",onClick:buyCard,name:Modal.name,children:\"\\u041A\\u0443\\u043F\\u0438\\u0442\\u044C\"})]})]})]})})]});};","map":{"version":3,"names":["React","useState","useEffect","Counters","Tabs","TabContent","CardStore","coinLogoIcon","gamepadStoreIcon","energyStoreIcon","jsx","_jsx","jsxs","_jsxs","StorePage","props","tabName","setTabName","document","getElementById","style","display","Modal","setModal","getCardData","event","nameThisCard","target","getAttribute","cardData","cards","find","cardItem","cardName","gameCards","gameCardItem","openModal","modal","span","getElementsByClassName","card","console","log","name","image","cardImage","description","cardDescription","level","cardLevel","price","cardPrice","onclick","window","buyCard","cardCurr","userMoney","money","cardCurrLevel","cardCurrMaxLevel","cardMaxLevel","click","buyCardActionClick","openTab","tabcontents","newName","i","currentTabContent","className","children","isDisabledDataCounters","moneyOnTap","moneyPerSecond","tabid","map","item","index","onClick","id","src"],"sources":["/Users/boristrunov/Desktop/LevelCoin/project/src/pages/StorePage.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport Counters from \"../Counters\";\nimport Tabs from \"../Tabs\";\nimport TabContent from \"../TabContent\";\nimport CardStore from \"../CardStore\";\nimport \"../styles/Page.css\";\nimport \"../styles/StorePage.css\";\nimport coinLogoIcon from \"../images/CoinIcon.png\";\nimport gamepadStoreIcon from \"../images/gamepadStore.png\";\nimport energyStoreIcon from \"../images/energyStore.png\";\n\n\nexport function StorePage(props){\n\n    const [tabName, setTabName] = useState('Console');\n\n    useEffect(() => {\n        document.getElementById(\"Console\").style.display = \"flex\";\n    }, []);\n\n    const [Modal, setModal] = useState({});\n\n    const getCardData = (event) => {\n        let nameThisCard = event.target.getAttribute(\"name\");\n        let cardData;\n        if (tabName === 'Console'){\n            cardData = props.cards.find(cardItem => cardItem.cardName === nameThisCard);\n        }\n        if (tabName === 'Games'){\n            cardData = props.gameCards.find(gameCardItem => gameCardItem.cardName === nameThisCard);\n        }\n        return cardData;\n    }\n\n    const openModal = (event) => {\n        var modal = document.getElementById(\"myModal\");\n        var span = document.getElementsByClassName(\"close\")[0];\n        const card = getCardData(event);\n        console.log(card);\n        setModal({name: card.cardName, image: card.cardImage, description: card.cardDescription, level: card.cardLevel, price: card.cardPrice});\n        modal.style.display = \"block\";\n        span.onclick = function() {\n            modal.style.display = \"none\";\n        }\n        window.onclick = function(event) {\n            if (event.target == modal) {\n                modal.style.display = \"none\";\n            }\n        }\n    }\n\n    const buyCard = (event) => {\n        const cardCurr = getCardData(event);\n        const cardPrice = cardCurr.cardPrice;\n        const userMoney = props.money;\n        const cardCurrLevel = cardCurr.cardLevel;\n        const cardCurrMaxLevel = cardCurr.cardMaxLevel;\n        var modal = document.getElementById(\"myModal\");\n        modal.click();\n        if (cardCurrLevel >= cardCurrMaxLevel){\n            return;\n        }\n        if (cardPrice > userMoney){\n            return;\n        }\n        props.buyCardActionClick(cardCurr, cardPrice, tabName);\n    }\n\n\n\n    const openTab = (event) => {\n        let tabcontents = document.getElementsByClassName(\"tabcontent\");\n        let newName = event.target.name;\n        setTabName(tabName => newName);\n        for (let i = 0; i < 3; i++){\n            tabcontents[i].style.display = \"none\";\n        }\n        let currentTabContent = document.getElementById(event.target.name);\n        currentTabContent.style.display = \"flex\";\n    }\n\n\n    return (\n        <div className=\"StorePage Page\">\n            <Counters isDisabledDataCounters={false} money={props.money} moneyOnTap={props.moneyOnTap} moneyPerSecond={props.moneyPerSecond}/>\n            <Tabs openTab={openTab} />\n            <TabContent tabid={\"Console\"}>\n                <div className=\"StoreCardsConsole StoreCards\">\n                    {props.cards.map((item, index) => <CardStore card={item} onClick={openModal} key={index} />)}\n                </div> \n            </TabContent>\n            <TabContent tabid={\"Games\"}>\n                <div className=\"StoreCardsGames StoreCards\">\n                    {props.gameCards.map((item, index) => <CardStore card={item} onClick={openModal} key={index} />)}\n                </div> \n            </TabContent>\n            <TabContent tabid={\"Collections\"}>\n                GG\n            </TabContent>\n            <div id=\"myModal\" className=\"modal\">\n                <div className=\"modal-content\">\n                    <div className=\"modal-content-top\">\n                        <span className=\"close\">&times;</span>\n                        <p>{Modal.name}</p>\n                    </div>\n                    <div className=\"modal-content-main\">\n                        <div className=\"modal-content-image\">\n                            <img src={Modal.image} />\n                        </div>\n                        <p className=\"modal-content-description\">\n                            {Modal.description}\n                        </p>\n                        <div className=\"modal-content-buy-data\">\n                            <div className=\"modal-content-buy-data-box\">\n                                <p className=\"modal-level-data\">\n                                    Уровень карты : {Modal.level}\n                                </p>\n                                <p className=\"modal-price-data\">\n                                    Стоимость : {Modal.price}\n                                    <img src={coinLogoIcon} />\n                                </p>\n                            </div>\n                            <button className=\"modal-buy-button\" onClick={buyCard} name={Modal.name}>\n                                Купить\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}